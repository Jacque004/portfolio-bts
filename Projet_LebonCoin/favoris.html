<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <script>
    // sélectionne tous les boutons "favoris"
const boutonsFavoris = document.querySelectorAll('.btn-favoris');

// boucle sur chaque bouton pour ajouter un gestionnaire d'événement clic
boutonsFavoris.forEach(function(bouton) {
  bouton.addEventListener('click', function() {
    // ajoute le produit aux favoris
    ajouterAuFavoris(this.dataset.produit);
  });
});

// fonction pour ajouter le produit aux favoris
function ajouterAuFavoris(idProduit) {
  // récupère la liste des produits favoris depuis le stockage local
  const favoris = JSON.parse(localStorage.getItem('favoris')) || [];

  // vérifie si le produit est déjà dans les favoris
  const index = favoris.findIndex(function(produit) {
    return produit.id === idProduit;
  });

  // si le produit n'est pas encore dans les favoris, l'ajoute à la liste
  if (index === -1) {
    favoris.push({ id: idProduit });
    localStorage.setItem('favoris', JSON.stringify(favoris));
  }
}
function ajouterAuFavoris(idProduit) {
  // récupère la liste des produits favoris depuis le stockage local
  const favoris = JSON.parse(localStorage.getItem('favoris')) || [];

  // vérifie si le produit est déjà dans les favoris
  const index = favoris.findIndex(function(produit) {
    return produit.id === idProduit;
  });

  // si le produit n'est pas encore dans les favoris, l'ajoute à la liste
  if (index === -1) {
    favoris.push({ id: idProduit });
    localStorage.setItem('favoris', JSON.stringify(favoris));
    this.classList.add('favori');
  }
}

  </script>
    
</body>
</html>